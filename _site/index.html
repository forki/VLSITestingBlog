<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  ï»¿<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Hyde &middot; A Jekyll theme
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/tips.css" />
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
    
  <!-- JS -->
  <script type="text/javascript" src="/public/js/tips.js"></script>  
</head>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h2>
        <a href="/">
          Hyde
        </a>
      </h2>
      <p class="lead">A brazen two-column <a href="http://jekyllrb.com" target="_blank">Jekyll</a> theme that pairs a prominent sidebar with uncomplicated content. Made by <a href="https://twitter.com/mdo" target="_blank">@mdo</a>.</p>
    </div>

      <nav class="sidebar-nav">
          <a class="sidebar-nav-item active" href="/">Home</a>

          

          
          
          
          
          
          
          
          
          <a class="sidebar-nav-item" href="/about/">About</a>
          
          
          
          
          
          
          
          
          
          
          
          
          
          <a class="sidebar-nav-item" href="http://hyde.getpoole.com/atom.xml">RSS</a>
      </nav>
      <div>
          <a href="">
              <img src="/public/GitHub-Mark-Light-32px.png" style="display: inline" />
          </a>
          <a href="">
              <img src="/public/Twitter_logo_white_32.png" style="display: inline" />
          </a>
      </div>
    <p>&copy; 2016. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2016/02/26/literate/">
        F# end to end
      </a>
    </h1>

    <span class="post-date">26 Feb 2016</span>

    <h1><a name="Literate-sample" class="anchor" href="#Literate-sample">Literate sample</a></h1>
<p>run it in Visual Studio or MonoDevelop).</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// The Hello World of functional languages!</span>
<span class="k">let</span> <span class="k">rec</span> <span class="i">factorial</span> <span class="i">x</span> <span class="o">=</span> 
  <span class="k">if</span> <span class="i">x</span> <span class="o">=</span> <span class="n">0</span> <span class="k">then</span> <span class="n">1</span> 
  <span class="k">else</span> <span class="i">x</span> <span class="o">*</span> (<span class="i">factorial</span> (<span class="i">x</span> <span class="o">-</span> <span class="n">1</span>))

<span class="k">let</span> <span class="i">f10</span> <span class="o">=</span> <span class="i">factorial</span> <span class="n">10</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Hiding-code" class="anchor" href="#Hiding-code">Hiding code</a></h2>
<p>If you want to include some code in the source code,
but omit it from the output, you can use the <code>hide</code>
command.</p>



  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2016/02/26/FirstPost/">
        My first post
      </a>
    </h1>

    <span class="post-date">26 Feb 2016</span>

    <p>Love you Anjan</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">a</span> <span class="o">=</span> <span class="n">1</span><span class="o">+</span><span class="n">2</span>
</code></pre></td>
</tr>
</table>


<div class="tip" id="fs1">val a : int<br /><br />Full name: February_26_2016.a</div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2016/02/25/test1/">
        F# end to end
      </a>
    </h1>

    <span class="post-date">25 Feb 2016</span>

    <h2><a name="Introduction" class="anchor" href="#Introduction">Introduction</a></h2>
<p>Recently my colleague <a href="https://twitter.com/simontcousins">@simontcousins</a> published an article comparing to similar projects one written
in C# one written in F#. The conclusion is that for the two projects the F# one is about 4% of the size.
You can read more about this <a href="http://www.simontylercousins.net/journal/2013/2/22/does-the-language-you-choose-make-a-difference.html">here</a>.
Now normally, a typical project comprises of several languages / technologies.
<em> Application Code -&gt; C#
</em> Build -&gt; MSBuild/Nant
<em> Deploy -&gt; Powershell script/Batch script
</em> UI (Web) -&gt; HTML/Javascript
<em> Documentation -&amp;gt; Word/HTML
However the F# project in question here has a profile more like this,
</em> Application Code -&gt; F#
<em> Build -&gt; F#
</em> Deploy -&gt; F#
<em> UI (Web) -&gt; HTML/CSS/Javascript
</em> Documentation -&gt; F#
Note the stack is 'almost' completely F# (we actually could have made this completely F# see below). Maybe I'm biased but I think that this is a huge benefit for
maintainability I only need to have my F# brain switched on and I can change any part of the application. Sure I have to learn a few
libraries, but the playfulness offered by the REPL here makes testing and experimenting easy; this is especially true when it comes writing
build and deployment scripts, which I normally find quiet difficult to test.</p>
<h2><a name="Full-stack-F" class="anchor" href="#Full-stack-F">Full stack F#</a></h2>
<p>So is it possible to use F# for everything Build, Deployment, UI (Web/WPF), Documentation. The answer is simply YES!!
There is just a few libraries we need to know about to achieve this. Lets look at each area of a typical application and see which
libraries we can use.</p>
<h3><a name="Application-Logic" class="anchor" href="#Application-Logic">Application Logic</a></h3>
<p>Ok this might seem like an obvious one, just write F#, but I thought I'd use this as an opportunity to highlight some libraries that I find useful
<em> <a href="" title="http://fsharp.github.com/fsharpx/">FSharpx</a> - Contains lots of extensions to the F# core modules, many useful data structures, commonly used monads, validation, <a href="http://msdn.microsoft.com/en-gb/library/hh156509.aspx" target="_blank">type providers</a>, async extensions etc.</li>
</em> <a href="" title="http://tpetricek.github.com/FSharp.Data">FSharp.Data</a> - Contains implementation of various type providers such as CSV, XML and JSON and I'm sure as the library matures we will see a lot more implementations to connect to wide variety of data sources.</li></p>
<h3><a name="Build-and-Deployment" class="anchor" href="#Build-and-Deployment">Build and Deployment</a></h3>
<p>To build and deploy application with F# we can use <a href="http://fsharp.github.com/FAKE">FAKE</a>. FAKE allows you to write your build and
deployment scripts in F#. A simple script might look something like this</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// include Fake libs</span>
<span class="k">open</span> <span class="i">Fake</span>

<span class="c">//Define Targets</span>

<span class="i">Description</span> <span class="s">&quot;Cleans the last build&quot;</span>
<span class="i">Target</span> <span class="s">&quot;Clean&quot;</span> (<span class="k">fun</span> () <span class="k">-&gt;</span>
    <span class="i">trace</span> <span class="s">&quot; --- Cleaning stuff --- &quot;</span>
)

<span class="i">Target</span> <span class="s">&quot;Build&quot;</span> (<span class="k">fun</span> () <span class="k">-&gt;</span>
    <span class="i">trace</span> <span class="s">&quot; --- Building the app --- &quot;</span>
)

<span class="i">Target</span> <span class="s">&quot;Deploy&quot;</span> (<span class="k">fun</span> () <span class="k">-&gt;</span>
    <span class="i">trace</span> <span class="s">&quot; --- Deploying app --- &quot;</span>
)

<span class="c">//Define Dependencies</span>
<span class="s">&quot;Clean&quot;</span>
  <span class="o">==&gt;</span> <span class="s">&quot;Build&quot;</span>
  <span class="o">==&gt;</span> <span class="s">&quot;Deploy&quot;</span>

<span class="c">//Start Build</span>
<span class="i">RunParameterTargetOrDefault</span> <span class="s">&quot;target&quot;</span> <span class="s">&quot;Deploy&quot;</span>
</code></pre></td>
</tr>
</table>
<p style="text-align: justify"> Anjan kumar is if you choose to write your UI using WPF then things are fairly straight forward, Write XAML markup and then use code behind F#.
However wiring up the code behind can be a pain because of the C# code gen involved, typically you have to load the view yourself using a XAML reader, or code the 
view layout in F# as in these series of examples from. If however you want to keep XAML markup then FSharpx has a XAML type provider</a>
that helps things along here.</p>
<p>The really nice thing about this is you have the full .NET framework and the full power of F# available in your scripts. Additionally FAKE
also has an accompanying website, which allows you to manage your deployment agents, so you can easily deploy, upgrade or rollback
applications from a central place.</p>
<h3><a name="UI" class="anchor" href="#UI">UI</a></h3>
<p>How you tackle writing a UI in F# obviously depends on your choice of technologies. There are others obviously but the two I'm going to
consider are WPF and HTML/CSS/Javascript.</p>
<h4><a name="WPF" class="anchor" href="#WPF">WPF</a></h4>
<p>If you choose to write your UI using WPF then things are fairly straight forward, Write XAML markup and then use code behind F#.
However wiring up the code behind can be a pain because of the C# code gen involved, typically you have to load the view yourself
using a XAML reader, or code the view layout in F# as in these series of examples from <a href="http://blogs.msdn.com/b/dsyme/archive/2008/01/05/learning-wpf-through-f-and-vice-versa-by-john-liao.aspx?Redirected=true">John Laio</a>.
If however you want to keep XAML markup then FSharpx has a <a href="https://github.com/fsharp/fsharpx/tree/master/src/FSharpx.TypeProviders.Xaml">XAML type provider</a>
that helps things along here.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">System</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 2)" onmouseover="showTip(event, 'fs1', 2)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs2', 3)" onmouseover="showTip(event, 'fs2', 3)" class="i">Windows</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 4)" onmouseover="showTip(event, 'fs1', 4)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs2', 5)" onmouseover="showTip(event, 'fs2', 5)" class="i">Windows</span><span class="o">.</span><span class="i">Controls</span>
<span class="k">open</span> <span class="i">FSharpx</span>

<span class="k">type</span> <span class="i">MainWindow</span> <span class="o">=</span> <span class="i">XAML</span><span class="o">&lt;</span><span class="s">&quot;libs/MainWindow.xaml&quot;</span><span class="o">&gt;</span>

<span class="k">let</span> <span class="i">loadWindow</span>() <span class="o">=</span>
    <span class="k">let</span> <span class="i">window</span> <span class="o">=</span> <span class="i">MainWindow</span>()
    <span class="i">window</span><span class="o">.</span><span class="i">myButton</span><span class="o">.</span><span class="i">Click</span><span class="o">.</span><span class="i">Add</span>(<span class="k">fun</span> _ <span class="k">-&gt;</span>
        <span class="i">MessageBox</span><span class="o">.</span><span class="i">Show</span>(<span class="s">&quot;Hello world!&quot;</span>)
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs3', 6)" onmouseover="showTip(event, 'fs3', 6)" class="i">ignore</span>)
    <span class="i">window</span><span class="o">.</span><span class="i">Root</span>

[&lt;<span class="i">STAThread</span>&gt;]
<span class="k">let</span> <span class="i">main</span>(<span class="i">args</span>) <span class="o">=</span> (<span class="k">new</span> <span class="i">Application</span>())<span class="o">.</span><span class="i">Run</span>(<span class="i">loadWindow</span>())
</code></pre></td>
</tr>
</table>
<p>See <a href="http://www.navision-blog.de/blog/2012/03/22/wpf-designer-for-f/">Steffan Forkmann's</a> post for more information about this.
Lets also not forget about first class events and the asynchronous programming model in F# that makes writing responsive UI's that much easier.</p>
<h4><a name="HTML-CSS-Javascript" class="anchor" href="#HTML-CSS-Javascript">HTML/CSS/Javascript</a></h4>
<p>If you go webby then things get a little more interesting, we have several options available here.
<em> <a href="http://www.websharper.com/home">WebSharper</a> - This is a very complete web framework, I have not personally played with it yet but I understand it does everything you'd want and more. Well worth checking out.
</em> <a href="https://github.com/ZachBray/FunScript">FunScript</a> - A new project, but it exploits the power of type providers to offer strongly typed access to TypeScript files <a href="http://tomasp.net/blog/">@thomaspetricek</a> has a nice talk about it.
With fun script you still have to write the HTML markup, although providing a Combinator library to emit the markup wouldn't be that difficult. (If some one knows of one I'll add it here), but this isn't application logic anyway. The important stuff is still written in F# and compiled to javascript later on.</p>
<h3><a name="Documentation" class="anchor" href="#Documentation">Documentation</a></h3>
<p><a href="http://tomasp.net/blog/">@thomaspetricek</a> recently released <a href="https://github.com/tpetricek/FSharp.Formatting">FSharp.Formatting</a> we can generate documentation
from an F# script file, using a mix of markdown and F#, for an example see this <a href="http://tpetricek.github.com/FSharp.Formatting/">link</a>. This can then be integrated into your FAKE build script,
using a build target something like the following example, Incidentally this is exactly the library that is used to create this blog.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 7)" onmouseover="showTip(event, 'fs1', 7)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 8)" onmouseover="showTip(event, 'fs4', 8)" class="i">IO</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs5', 9)" onmouseover="showTip(event, 'fs5', 9)" class="i">FSharp</span><span class="o">.</span><span class="i">Literate</span>

<span class="i">Target</span> <span class="s">&quot;Docs&quot;</span> (<span class="k">fun</span> _ <span class="k">-&gt;</span> 
    <span class="k">let</span> <span class="i">template</span> <span class="o">=</span> <span class="i">Path</span><span class="o">.</span><span class="i">Combine</span>(<span class="i">currentDirectory</span>, <span class="s">&quot;template.html&quot;</span>)
    <span class="k">let</span> <span class="i">sources</span> <span class="o">=</span> <span class="i">Path</span><span class="o">.</span><span class="i">Combine</span>(<span class="k">__SOURCE_DIRECTORY__</span>, <span class="s">&quot;samples&quot;</span>)
    <span class="k">let</span> <span class="i">output</span> <span class="o">=</span> <span class="s">&quot;out_dir&quot;</span>
    
    <span class="i">Literate</span><span class="o">.</span><span class="i">ProcessDirectory</span>(<span class="i">sources</span>, <span class="i">template</span>, <span class="i">output</span>)
)
</code></pre></td>
</tr>
</table>
<h2><a name="Conclusion" class="anchor" href="#Conclusion">Conclusion</a></h2>
<p>Ok I might of over stated that <strong>everything</strong> can be written in F#, certainly at the moment there is a lack of libraries for
emitting XAML and HTML (with the exception of WebSharper of course). But HTML and XAML are really inconsequential when it comes the to
the correctness of your application they do not contain any logic which needs to be tested they simply control layout. The important thing
to take from the above is the fact that all of your logic whether it is for build, deployment, UI interaction, example documentation can be
written in a type safe way using the various libraries and F# feature spoken about above.</p>


<div class="tip" id="fs1">namespace System</div>
<div class="tip" id="fs2">namespace System.Windows</div>
<div class="tip" id="fs3">val ignore : value:&#39;T -&gt; unit<br /><br />Full name: Microsoft.FSharp.Core.Operators.ignore</div>
<div class="tip" id="fs4">namespace System.IO</div>
<div class="tip" id="fs5">namespace Microsoft.FSharp</div>

  </div>
  
</div>

<div class="pagination">
  
    <span class="pagination-item older">Older</span>
  
  
    <span class="pagination-item newer">Newer</span>
  
</div>
    </div>
    <script>
  <!-- your google analytics code here -->

</script>
  </body>
</html>
